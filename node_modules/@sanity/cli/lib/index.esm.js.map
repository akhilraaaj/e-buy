{"version":3,"file":"index.esm.js","sources":["../src/config.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","../../../../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","../../../../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","../../../../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","../../../../node_modules/rxjs/dist/esm5/internal/Subscription.js","../../../../node_modules/rxjs/dist/esm5/internal/config.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","../../../../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","../../../../node_modules/rxjs/dist/esm5/internal/util/noop.js","../../../../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","../../../../node_modules/rxjs/dist/esm5/internal/Subscriber.js","../../../../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/identity.js","../../../../node_modules/rxjs/dist/esm5/internal/util/pipe.js","../../../../node_modules/rxjs/dist/esm5/internal/Observable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/lift.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","../../../../node_modules/rxjs/dist/esm5/internal/util/EmptyError.js","../../../../node_modules/rxjs/dist/esm5/internal/lastValueFrom.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/map.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/filter.js","../../../../node_modules/eventsource/lib/eventsource.js","../../../../node_modules/@sanity/eventsource/node.js","../../../../node_modules/@sanity/client/dist/index.js","../src/util/dynamicRequire.ts","../src/util/getCliConfig.ts","../../../../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../../../../node_modules/has-flag/index.js","../../../../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../src/debug.ts","../src/util/resolveRootDir.ts","../src/cliClient.ts","../../../../node_modules/dotenv/lib/main.js","../../../../node_modules/dotenv-expand/lib/main.js","../src/util/loadEnv.ts"],"sourcesContent":["import type {CliConfig} from './types'\n\n/** @beta */\nexport function defineCliConfig(config: CliConfig): CliConfig {\n  return config\n}\n\n/**\n * @deprecated Use `defineCliConfig` instead\n * @beta\n */\nexport function createCliConfig(config: CliConfig): CliConfig {\n  return config\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport var EmptyError = createErrorClass(function (_super) { return function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n}; });\n//# sourceMappingURL=EmptyError.js.map","import { EmptyError } from './util/EmptyError';\nexport function lastValueFrom(source, config) {\n    var hasConfig = typeof config === 'object';\n    return new Promise(function (resolve, reject) {\n        var _hasValue = false;\n        var _value;\n        source.subscribe({\n            next: function (value) {\n                _value = value;\n                _hasValue = true;\n            },\n            error: reject,\n            complete: function () {\n                if (_hasValue) {\n                    resolve(_value);\n                }\n                else if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n    });\n}\n//# sourceMappingURL=lastValueFrom.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","var parse = require('url').parse\nvar events = require('events')\nvar https = require('https')\nvar http = require('http')\nvar util = require('util')\n\nvar httpsOptions = [\n  'pfx', 'key', 'passphrase', 'cert', 'ca', 'ciphers',\n  'rejectUnauthorized', 'secureProtocol', 'servername', 'checkServerIdentity'\n]\n\nvar bom = [239, 187, 191]\nvar colon = 58\nvar space = 32\nvar lineFeed = 10\nvar carriageReturn = 13\n// Beyond 256KB we could not observe any gain in performance\nvar maxBufferAheadAllocation = 1024 * 256\n// Headers matching the pattern should be removed when redirecting to different origin\nvar reUnsafeHeader = /^(cookie|authorization)$/i\n\nfunction hasBom (buf) {\n  return bom.every(function (charCode, index) {\n    return buf[index] === charCode\n  })\n}\n\n/**\n * Creates a new EventSource object\n *\n * @param {String} url the URL to which to connect\n * @param {Object} [eventSourceInitDict] extra init params. See README for details.\n * @api public\n **/\nfunction EventSource (url, eventSourceInitDict) {\n  var readyState = EventSource.CONNECTING\n  var headers = eventSourceInitDict && eventSourceInitDict.headers\n  var hasNewOrigin = false\n  Object.defineProperty(this, 'readyState', {\n    get: function () {\n      return readyState\n    }\n  })\n\n  Object.defineProperty(this, 'url', {\n    get: function () {\n      return url\n    }\n  })\n\n  var self = this\n  self.reconnectInterval = 1000\n  self.connectionInProgress = false\n\n  function onConnectionClosed (message) {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CONNECTING\n    _emit('error', new Event('error', {message: message}))\n\n    // The url may have been changed by a temporary redirect. If that's the case,\n    // revert it now, and flag that we are no longer pointing to a new origin\n    if (reconnectUrl) {\n      url = reconnectUrl\n      reconnectUrl = null\n      hasNewOrigin = false\n    }\n    setTimeout(function () {\n      if (readyState !== EventSource.CONNECTING || self.connectionInProgress) {\n        return\n      }\n      self.connectionInProgress = true\n      connect()\n    }, self.reconnectInterval)\n  }\n\n  var req\n  var lastEventId = ''\n  if (headers && headers['Last-Event-ID']) {\n    lastEventId = headers['Last-Event-ID']\n    delete headers['Last-Event-ID']\n  }\n\n  var discardTrailingNewline = false\n  var data = ''\n  var eventName = ''\n\n  var reconnectUrl = null\n\n  function connect () {\n    var options = parse(url)\n    var isSecure = options.protocol === 'https:'\n    options.headers = { 'Cache-Control': 'no-cache', 'Accept': 'text/event-stream' }\n    if (lastEventId) options.headers['Last-Event-ID'] = lastEventId\n    if (headers) {\n      var reqHeaders = hasNewOrigin ? removeUnsafeHeaders(headers) : headers\n      for (var i in reqHeaders) {\n        var header = reqHeaders[i]\n        if (header) {\n          options.headers[i] = header\n        }\n      }\n    }\n\n    // Legacy: this should be specified as `eventSourceInitDict.https.rejectUnauthorized`,\n    // but for now exists as a backwards-compatibility layer\n    options.rejectUnauthorized = !(eventSourceInitDict && !eventSourceInitDict.rejectUnauthorized)\n\n    if (eventSourceInitDict && eventSourceInitDict.createConnection !== undefined) {\n      options.createConnection = eventSourceInitDict.createConnection\n    }\n\n    // If specify http proxy, make the request to sent to the proxy server,\n    // and include the original url in path and Host headers\n    var useProxy = eventSourceInitDict && eventSourceInitDict.proxy\n    if (useProxy) {\n      var proxy = parse(eventSourceInitDict.proxy)\n      isSecure = proxy.protocol === 'https:'\n\n      options.protocol = isSecure ? 'https:' : 'http:'\n      options.path = url\n      options.headers.Host = options.host\n      options.hostname = proxy.hostname\n      options.host = proxy.host\n      options.port = proxy.port\n    }\n\n    // If https options are specified, merge them into the request options\n    if (eventSourceInitDict && eventSourceInitDict.https) {\n      for (var optName in eventSourceInitDict.https) {\n        if (httpsOptions.indexOf(optName) === -1) {\n          continue\n        }\n\n        var option = eventSourceInitDict.https[optName]\n        if (option !== undefined) {\n          options[optName] = option\n        }\n      }\n    }\n\n    // Pass this on to the XHR\n    if (eventSourceInitDict && eventSourceInitDict.withCredentials !== undefined) {\n      options.withCredentials = eventSourceInitDict.withCredentials\n    }\n\n    req = (isSecure ? https : http).request(options, function (res) {\n      self.connectionInProgress = false\n      // Handle HTTP errors\n      if (res.statusCode === 500 || res.statusCode === 502 || res.statusCode === 503 || res.statusCode === 504) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        onConnectionClosed()\n        return\n      }\n\n      // Handle HTTP redirects\n      if (res.statusCode === 301 || res.statusCode === 302 || res.statusCode === 307) {\n        var location = res.headers.location\n        if (!location) {\n          // Server sent redirect response without Location header.\n          _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n          return\n        }\n        var prevOrigin = new URL(url).origin\n        var nextOrigin = new URL(location).origin\n        hasNewOrigin = prevOrigin !== nextOrigin\n        if (res.statusCode === 307) reconnectUrl = url\n        url = location\n        process.nextTick(connect)\n        return\n      }\n\n      if (res.statusCode !== 200) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        return self.close()\n      }\n\n      readyState = EventSource.OPEN\n      res.on('close', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n\n      res.on('end', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n      _emit('open', new Event('open'))\n\n      // text/event-stream parser adapted from webkit's\n      // Source/WebCore/page/EventSource.cpp\n      var buf\n      var newBuffer\n      var startingPos = 0\n      var startingFieldLength = -1\n      var newBufferSize = 0\n      var bytesUsed = 0\n\n      res.on('data', function (chunk) {\n        if (!buf) {\n          buf = chunk\n          if (hasBom(buf)) {\n            buf = buf.slice(bom.length)\n          }\n          bytesUsed = buf.length\n        } else {\n          if (chunk.length > buf.length - bytesUsed) {\n            newBufferSize = (buf.length * 2) + chunk.length\n            if (newBufferSize > maxBufferAheadAllocation) {\n              newBufferSize = buf.length + chunk.length + maxBufferAheadAllocation\n            }\n            newBuffer = Buffer.alloc(newBufferSize)\n            buf.copy(newBuffer, 0, 0, bytesUsed)\n            buf = newBuffer\n          }\n          chunk.copy(buf, bytesUsed)\n          bytesUsed += chunk.length\n        }\n\n        var pos = 0\n        var length = bytesUsed\n\n        while (pos < length) {\n          if (discardTrailingNewline) {\n            if (buf[pos] === lineFeed) {\n              ++pos\n            }\n            discardTrailingNewline = false\n          }\n\n          var lineLength = -1\n          var fieldLength = startingFieldLength\n          var c\n\n          for (var i = startingPos; lineLength < 0 && i < length; ++i) {\n            c = buf[i]\n            if (c === colon) {\n              if (fieldLength < 0) {\n                fieldLength = i - pos\n              }\n            } else if (c === carriageReturn) {\n              discardTrailingNewline = true\n              lineLength = i - pos\n            } else if (c === lineFeed) {\n              lineLength = i - pos\n            }\n          }\n\n          if (lineLength < 0) {\n            startingPos = length - pos\n            startingFieldLength = fieldLength\n            break\n          } else {\n            startingPos = 0\n            startingFieldLength = -1\n          }\n\n          parseEventStreamLine(buf, pos, fieldLength, lineLength)\n\n          pos += lineLength + 1\n        }\n\n        if (pos === length) {\n          buf = void 0\n          bytesUsed = 0\n        } else if (pos > 0) {\n          buf = buf.slice(pos, bytesUsed)\n          bytesUsed = buf.length\n        }\n      })\n    })\n\n    req.on('error', function (err) {\n      self.connectionInProgress = false\n      onConnectionClosed(err.message)\n    })\n\n    if (req.setNoDelay) req.setNoDelay(true)\n    req.end()\n  }\n\n  connect()\n\n  function _emit () {\n    if (self.listeners(arguments[0]).length > 0) {\n      self.emit.apply(self, arguments)\n    }\n  }\n\n  this._close = function () {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CLOSED\n    if (req.abort) req.abort()\n    if (req.xhr && req.xhr.abort) req.xhr.abort()\n  }\n\n  function parseEventStreamLine (buf, pos, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        var type = eventName || 'message'\n        _emit(type, new MessageEvent(type, {\n          data: data.slice(0, -1), // remove trailing newline\n          lastEventId: lastEventId,\n          origin: new URL(url).origin\n        }))\n        data = ''\n      }\n      eventName = void 0\n    } else if (fieldLength > 0) {\n      var noValue = fieldLength < 0\n      var step = 0\n      var field = buf.slice(pos, pos + (noValue ? lineLength : fieldLength)).toString()\n\n      if (noValue) {\n        step = lineLength\n      } else if (buf[pos + fieldLength + 1] !== space) {\n        step = fieldLength + 1\n      } else {\n        step = fieldLength + 2\n      }\n      pos += step\n\n      var valueLength = lineLength - step\n      var value = buf.slice(pos, pos + valueLength).toString()\n\n      if (field === 'data') {\n        data += value + '\\n'\n      } else if (field === 'event') {\n        eventName = value\n      } else if (field === 'id') {\n        lastEventId = value\n      } else if (field === 'retry') {\n        var retry = parseInt(value, 10)\n        if (!Number.isNaN(retry)) {\n          self.reconnectInterval = retry\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventSource\n\nutil.inherits(EventSource, events.EventEmitter)\nEventSource.prototype.constructor = EventSource; // make stacktraces readable\n\n['open', 'error', 'message'].forEach(function (method) {\n  Object.defineProperty(EventSource.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    get: function get () {\n      var listener = this.listeners(method)[0]\n      return listener ? (listener._listener ? listener._listener : listener) : undefined\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    set: function set (listener) {\n      this.removeAllListeners(method)\n      this.addEventListener(method, listener)\n    }\n  })\n})\n\n/**\n * Ready states\n */\nObject.defineProperty(EventSource, 'CONNECTING', {enumerable: true, value: 0})\nObject.defineProperty(EventSource, 'OPEN', {enumerable: true, value: 1})\nObject.defineProperty(EventSource, 'CLOSED', {enumerable: true, value: 2})\n\nEventSource.prototype.CONNECTING = 0\nEventSource.prototype.OPEN = 1\nEventSource.prototype.CLOSED = 2\n\n/**\n * Closes the connection, if one is made, and sets the readyState attribute to 2 (closed)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventSource/close\n * @api public\n */\nEventSource.prototype.close = function () {\n  this._close()\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @param {String} type A string representing the event type to listen out for\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.addEventListener = function addEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    // store a reference so we can return the original function again\n    listener._listener = listener\n    this.on(type, listener)\n  }\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using dispatchEvent.\n *\n * @param {Event} event An event to be dispatched\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n * @api public\n */\nEventSource.prototype.dispatchEvent = function dispatchEvent (event) {\n  if (!event.type) {\n    throw new Error('UNSPECIFIED_EVENT_TYPE_ERR')\n  }\n  // if event is instance of an CustomEvent (or has 'details' property),\n  // send the detail object as the payload for the event\n  this.emit(event.type, event.detail)\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using removeEventListener.\n *\n * @param {String} type A string representing the event type to remove\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.removeEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.removeEventListener = function removeEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    listener._listener = undefined\n    this.removeListener(type, listener)\n  }\n}\n\n/**\n * W3C Event\n *\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#interface-Event\n * @api private\n */\nfunction Event (type, optionalProperties) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  if (optionalProperties) {\n    for (var f in optionalProperties) {\n      if (optionalProperties.hasOwnProperty(f)) {\n        Object.defineProperty(this, f, { writable: false, value: optionalProperties[f], enumerable: true })\n      }\n    }\n  }\n}\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/webmessaging/#event-definitions\n * @api private\n */\nfunction MessageEvent (type, eventInitDict) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  for (var f in eventInitDict) {\n    if (eventInitDict.hasOwnProperty(f)) {\n      Object.defineProperty(this, f, { writable: false, value: eventInitDict[f], enumerable: true })\n    }\n  }\n}\n\n/**\n * Returns a new object of headers that does not include any authorization and cookie headers\n *\n * @param {Object} headers An object of headers ({[headerName]: headerValue})\n * @return {Object} a new object of headers\n * @api private\n */\nfunction removeUnsafeHeaders (headers) {\n  var safe = {}\n  for (var key in headers) {\n    if (reUnsafeHeader.test(key)) {\n      continue\n    }\n\n    safe[key] = headers[key]\n  }\n\n  return safe\n}\n","module.exports = require('eventsource')\n","import { debug, headers, retry, jsonRequest, jsonResponse, progress, observable } from 'get-it/middleware';\nimport { getIt } from 'get-it';\nimport { Observable, lastValueFrom } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\nimport polyfilledEventSource from '@sanity/eventsource';\nvar name = \"@sanity/client\";\nvar version = \"5.2.0\";\nconst middleware = [debug({\n  verbose: true,\n  namespace: \"sanity:client\"\n}), headers({\n  \"User-Agent\": \"\".concat(name, \" \").concat(version)\n}), retry({\n  maxRetries: 3\n})];\nclass ClientError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message);\n    this.statusCode = 400;\n    Object.assign(this, props);\n  }\n}\nclass ServerError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message);\n    this.statusCode = 500;\n    Object.assign(this, props);\n  }\n}\nfunction extractErrorProps(res) {\n  const body = res.body;\n  const props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res),\n    message: \"\",\n    details: void 0\n  };\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  }\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  }\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\nfunction httpErrorMessage(res) {\n  const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n  const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n  const isJson = contentType.indexOf(\"application/json\") !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n  onResponse: res => {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n    return res;\n  }\n};\nconst printWarnings = {\n  onResponse: res => {\n    const warn = res.headers[\"x-sanity-warning\"];\n    const warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(msg => console.warn(msg));\n    return res;\n  }\n};\nfunction defineHttpRequest(envMiddleware) {\n  const request = getIt([...envMiddleware, printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n    implementation: Observable\n  })]);\n  function httpRequest(options) {\n    let requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n    return requester({\n      maxRedirects: 0,\n      ...options\n    });\n  }\n  httpRequest.defaultRequester = request;\n  return httpRequest;\n}\nconst projectHeader = \"X-Sanity-Project-ID\";\nvar getRequestOptions = function (config) {\n  let overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const headers = {};\n  const token = overrides.token || config.token;\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n  const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n  const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n  return Object.assign({}, overrides, {\n    headers: Object.assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials\n  });\n};\nfunction getSelection(sel) {\n  if (typeof sel === \"string\" || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n  if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n    return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n  const selectionOpts = [\"* Document ID (<docId>)\", \"* Array of document IDs\", \"* Object containing `query`\"].join(\"\\n\");\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\"image\", \"file\"];\nconst VALID_INSERT_LOCATIONS = [\"before\", \"after\", \"replace\"];\nconst dataset = name => {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n  }\n};\nconst projectId = id => {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n  }\n};\nconst validateAssetType = type => {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n  }\n};\nconst validateObject = (op, val) => {\n  if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\nconst validateDocumentId = (op, id) => {\n  if (typeof id !== \"string\" || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\nconst requireDocumentId = (op, doc) => {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n  validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items) => {\n  const signature = \"insert(at, selector, items)\";\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    const valid = VALID_INSERT_LOCATIONS.map(loc => \"\\\"\".concat(loc, \"\\\"\")).join(\", \");\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n  if (typeof selector !== \"string\") {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\nconst hasDataset = config => {\n  if (!config.dataset) {\n    throw new Error(\"`dataset` must be provided to perform queries\");\n  }\n  return config.dataset || \"\";\n};\nconst requestTag = tag => {\n  if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n  return tag;\n};\nvar encodeQueryString = _ref => {\n  let {\n    query,\n    params = {},\n    options = {}\n  } = _ref;\n  const searchParams = new URLSearchParams();\n  const {\n    tag,\n    ...opts\n  } = options;\n  if (tag) searchParams.set(\"tag\", tag);\n  searchParams.set(\"query\", query);\n  for (const [key, value] of Object.entries(params)) {\n    searchParams.set(\"$\".concat(key), JSON.stringify(value));\n  }\n  for (const [key, value] of Object.entries(opts)) {\n    if (value) searchParams.set(key, \"\".concat(value));\n  }\n  return \"?\".concat(searchParams);\n};\nvar __accessCheck$6 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter) => {\n  __accessCheck$6(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter) => {\n  __accessCheck$6(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n  constructor(selection) {\n    let operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.selection = selection;\n    this.operations = operations;\n  }\n  /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  set(attrs) {\n    return this._assign(\"set\", attrs);\n  }\n  /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  setIfMissing(attrs) {\n    return this._assign(\"setIfMissing\", attrs);\n  }\n  /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */\n  diffMatchPatch(attrs) {\n    validateObject(\"diffMatchPatch\", attrs);\n    return this._assign(\"diffMatchPatch\", attrs);\n  }\n  /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */\n  unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n    }\n    this.operations = Object.assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  }\n  /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */\n  inc(attrs) {\n    return this._assign(\"inc\", attrs);\n  }\n  /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */\n  dec(attrs) {\n    return this._assign(\"dec\", attrs);\n  }\n  /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */\n  insert(at, selector, items) {\n    validateInsert(at, selector, items);\n    return this._assign(\"insert\", {\n      [at]: selector,\n      items\n    });\n  }\n  /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */\n  append(selector, items) {\n    return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n  }\n  /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */\n  prepend(selector, items) {\n    return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n  }\n  /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */\n  splice(selector, start, deleteCount, items) {\n    const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n    const startIndex = start < 0 ? start - 1 : start;\n    const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n    const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert(\"replace\", rangeSelector, items || []);\n  }\n  /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */\n  ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  serialize() {\n    return {\n      ...getSelection(this.selection),\n      ...this.operations\n    };\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the patch of all operations\n   */\n  reset() {\n    this.operations = {};\n    return this;\n  }\n  _assign(op, props) {\n    let merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = Object.assign({}, this.operations, {\n      [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n    });\n    return this;\n  }\n  _set(op, props) {\n    return this._assign(op, props, false);\n  }\n}\nconst _ObservablePatch = class extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations);\n    __privateAdd$6(this, _client$5, void 0);\n    __privateSet$6(this, _client$5, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _ObservablePatch(this.selection, {\n      ...this.operations\n    }, __privateGet$6(this, _client$5));\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client$5)) {\n      throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n    }\n    const returnFirst = typeof this.selection === \"string\";\n    const opts = Object.assign({\n      returnFirst,\n      returnDocuments: true\n    }, options);\n    return __privateGet$6(this, _client$5).mutate({\n      patch: this.serialize()\n    }, opts);\n  }\n};\nlet ObservablePatch = _ObservablePatch;\n_client$5 = new WeakMap();\nconst _Patch = class extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations);\n    __privateAdd$6(this, _client2$5, void 0);\n    __privateSet$6(this, _client2$5, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _Patch(this.selection, {\n      ...this.operations\n    }, __privateGet$6(this, _client2$5));\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client2$5)) {\n      throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n    }\n    const returnFirst = typeof this.selection === \"string\";\n    const opts = Object.assign({\n      returnFirst,\n      returnDocuments: true\n    }, options);\n    return __privateGet$6(this, _client2$5).mutate({\n      patch: this.serialize()\n    }, opts);\n  }\n};\nlet Patch = _Patch;\n_client2$5 = new WeakMap();\nvar __accessCheck$5 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter) => {\n  __accessCheck$5(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter) => {\n  __accessCheck$5(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n  returnDocuments: false\n};\nclass BaseTransaction {\n  constructor() {\n    let operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let transactionId = arguments.length > 1 ? arguments[1] : undefined;\n    this.operations = operations;\n    this.trxId = transactionId;\n  }\n  /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */\n  create(doc) {\n    validateObject(\"create\", doc);\n    return this._add({\n      create: doc\n    });\n  }\n  /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */\n  createIfNotExists(doc) {\n    const op = \"createIfNotExists\";\n    validateObject(op, doc);\n    requireDocumentId(op, doc);\n    return this._add({\n      [op]: doc\n    });\n  }\n  /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */\n  createOrReplace(doc) {\n    const op = \"createOrReplace\";\n    validateObject(op, doc);\n    requireDocumentId(op, doc);\n    return this._add({\n      [op]: doc\n    });\n  }\n  /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */\n  delete(documentId) {\n    validateDocumentId(\"delete\", documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  }\n  transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n    this.trxId = id;\n    return this;\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  serialize() {\n    return [...this.operations];\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the transaction of all operations\n   */\n  reset() {\n    this.operations = [];\n    return this;\n  }\n  _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n}\nconst _Transaction = class extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId);\n    __privateAdd$5(this, _client$4, void 0);\n    __privateSet$5(this, _client$4, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _Transaction([...this.operations], __privateGet$5(this, _client$4), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$5(this, _client$4)) {\n      throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n    }\n    return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps === \"function\";\n    const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n    if (isPatch) {\n      return this._add({\n        patch: patchOrDocumentId.serialize()\n      });\n    }\n    if (isBuilder) {\n      const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n      if (!(patch instanceof Patch)) {\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      }\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n    return this._add({\n      patch: {\n        id: patchOrDocumentId,\n        ...patchOps\n      }\n    });\n  }\n};\nlet Transaction = _Transaction;\n_client$4 = new WeakMap();\nconst _ObservableTransaction = class extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId);\n    __privateAdd$5(this, _client2$4, void 0);\n    __privateSet$5(this, _client2$4, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _ObservableTransaction([...this.operations], __privateGet$5(this, _client2$4), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$5(this, _client2$4)) {\n      throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n    }\n    return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps === \"function\";\n    const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n    if (isPatch) {\n      return this._add({\n        patch: patchOrDocumentId.serialize()\n      });\n    }\n    if (isBuilder) {\n      const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n      if (!(patch instanceof ObservablePatch)) {\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      }\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n    return this._add({\n      patch: {\n        id: patchOrDocumentId,\n        ...patchOps\n      }\n    });\n  }\n};\nlet ObservableTransaction = _ObservableTransaction;\n_client2$4 = new WeakMap();\nconst excludeFalsey = (param, defValue) => {\n  const value = typeof param === \"undefined\" ? defValue : param;\n  return param === false ? void 0 : value;\n};\nconst getMutationQuery = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || \"sync\",\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\nconst isResponse = event => event.type === \"response\";\nconst getBody = event => event.body;\nconst indexBy = (docs, attr) => docs.reduce((indexed, doc) => {\n  indexed[attr(doc)] = doc;\n  return indexed;\n}, /* @__PURE__ */Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, query, params) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const mapResponse = options.filterResponse === false ? res => res : res => res.result;\n  return _dataRequest(client, httpRequest, \"query\", {\n    query,\n    params\n  }, options).pipe(map(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const options = {\n    uri: _getDataUrl(client, \"doc\", id),\n    json: true,\n    tag: opts.tag\n  };\n  return _requestObservable(client, httpRequest, options).pipe(filter(isResponse), map(event => event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const options = {\n    uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n    json: true,\n    tag: opts.tag\n  };\n  return _requestObservable(client, httpRequest, options).pipe(filter(isResponse), map(event => {\n    const indexed = indexBy(event.body.documents || [], doc => doc._id);\n    return ids.map(id => indexed[id] || null);\n  }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n  requireDocumentId(\"createIfNotExists\", doc);\n  return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n  requireDocumentId(\"createOrReplace\", doc);\n  return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: [{\n      delete: getSelection(selection)\n    }]\n  }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n  const mut = mutations instanceof Patch || mutations instanceof ObservablePatch || mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mutations.serialize() : mutations;\n  const muts = Array.isArray(mut) ? mut : [mut];\n  const transactionId = options && options.transactionId;\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: muts,\n    transactionId\n  }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const isMutation = endpoint === \"mutate\";\n  const isQuery = endpoint === \"query\";\n  const strQuery = isMutation ? \"\" : encodeQueryString(body);\n  const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n  const stringQuery = useGet ? strQuery : \"\";\n  const returnFirst = options.returnFirst;\n  const {\n    timeout,\n    token,\n    tag,\n    headers\n  } = options;\n  const uri = _getDataUrl(client, endpoint, stringQuery);\n  const reqOptions = {\n    method: useGet ? \"GET\" : \"POST\",\n    uri,\n    json: true,\n    body: useGet ? void 0 : body,\n    query: isMutation && getMutationQuery(options),\n    timeout,\n    headers,\n    token,\n    tag,\n    canUseCdn: isQuery,\n    signal: options.signal\n  };\n  return _requestObservable(client, httpRequest, reqOptions).pipe(filter(isResponse), map(getBody), map(res => {\n    if (!isMutation) {\n      return res;\n    }\n    const results = res.results || [];\n    if (options.returnDocuments) {\n      return returnFirst ? results[0] && results[0].document : results.map(mut => mut.document);\n    }\n    const key = returnFirst ? \"documentId\" : \"documentIds\";\n    const ids = returnFirst ? results[0] && results[0].id : results.map(mut => mut.id);\n    return {\n      transactionId: res.transactionId,\n      results,\n      [key]: ids\n    };\n  }));\n}\nfunction _create(client, httpRequest, doc, op) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const mutation = {\n    [op]: doc\n  };\n  const opts = Object.assign({\n    returnFirst: true,\n    returnDocuments: true\n  }, options);\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: [mutation]\n  }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n  const uri = options.url || options.uri;\n  const config = client.config();\n  const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\"GET\", \"HEAD\"].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n  const useCdn = config.useCdn && canUseCdn;\n  const tag = options.tag && config.requestTagPrefix ? [config.requestTagPrefix, options.tag].join(\".\") : options.tag || config.requestTagPrefix;\n  if (tag) {\n    options.query = {\n      tag: requestTag(tag),\n      ...options.query\n    };\n  }\n  const reqOptions = getRequestOptions(config, Object.assign({}, options, {\n    url: _getUrl(client, uri, useCdn)\n  }));\n  const request = new Observable(subscriber =>\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the typings thinks it's optional because it's not required to specify it when calling createClient, but it's always defined in practice since SanityClient provides a default\n  httpRequest(reqOptions, config.requester).subscribe(subscriber));\n  return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n  const observable = _requestObservable(client, httpRequest, options).pipe(filter(event => event.type === \"response\"), map(event => event.body));\n  return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n  const config = client.config();\n  const catalog = hasDataset(config);\n  const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n  const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n  return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri) {\n  let canUseCdn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  const {\n    url,\n    cdnUrl\n  } = client.config();\n  const base = canUseCdn ? cdnUrl : url;\n  return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n  return input => {\n    return new Observable(observer => {\n      const abort = () => observer.error(_createAbortError(signal));\n      if (signal && signal.aborted) {\n        abort();\n        return;\n      }\n      const subscription = input.subscribe(observer);\n      signal.addEventListener(\"abort\", abort);\n      return () => {\n        signal.removeEventListener(\"abort\", abort);\n        subscription.unsubscribe();\n      };\n    });\n  };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n  var _a, _b;\n  if (isDomExceptionSupported) {\n    return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n  }\n  const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n  error.name = \"AbortError\";\n  return error;\n}\nvar __accessCheck$4 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter) => {\n  __accessCheck$4(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter) => {\n  __accessCheck$4(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$4(this, _client$3, void 0);\n    __privateAdd$4(this, _httpRequest$4, void 0);\n    __privateSet$4(this, _client$3, client);\n    __privateSet$4(this, _httpRequest$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n  }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$4(this, _client2$3, void 0);\n    __privateAdd$4(this, _httpRequest2$4, void 0);\n    __privateSet$4(this, _client2$3, client);\n    __privateSet$4(this, _httpRequest2$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n    return lastValueFrom(observable.pipe(filter(event => event.type === \"response\"), map(event => event.body.document)));\n  }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body) {\n  let opts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  validateAssetType(assetType);\n  let meta = opts.extract || void 0;\n  if (meta && !meta.length) {\n    meta = [\"none\"];\n  }\n  const dataset = hasDataset(client.config());\n  const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n  const options = optionsFromFile(opts, body);\n  const {\n    tag,\n    label,\n    title,\n    description,\n    creditLine,\n    filename,\n    source\n  } = options;\n  const query = {\n    label,\n    title,\n    description,\n    filename,\n    meta,\n    creditLine\n  };\n  if (source) {\n    query.sourceId = source.id;\n    query.sourceName = source.name;\n    query.sourceUrl = source.url;\n  }\n  return _requestObservable(client, httpRequest, {\n    tag,\n    method: \"POST\",\n    timeout: options.timeout || 0,\n    uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n    headers: options.contentType ? {\n      \"Content-Type\": options.contentType\n    } : {},\n    query,\n    body\n  });\n}\nfunction optionsFromFile(opts, file) {\n  if (typeof window === \"undefined\" || !(file instanceof window.File)) {\n    return opts;\n  }\n  return Object.assign({\n    filename: opts.preserveFilename === false ? void 0 : file.name,\n    contentType: file.type\n  }, opts);\n}\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n  return BASE_URL + slug;\n}\nvar once = fn => {\n  let didCall = false;\n  let returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n    returnValue = fn(...arguments);\n    didCall = true;\n    return returnValue;\n  };\n};\nconst createWarningPrinter = message =>\n// eslint-disable-next-line no-console\nonce(function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return console.warn(message.join(\" \"), ...args);\n});\nconst printCdnWarning = createWarningPrinter([\"You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and\", \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl(\"js-client-cdn-configuration\"), \" \"), \"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating\", \"the client.\"]);\nconst printBrowserTokenWarning = createWarningPrinter([\"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\", \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\"Using the Sanity client without specifying an API version is deprecated.\", \"See \".concat(generateHelpUrl(\"js-client-api-version\"))]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n  apiHost: \"https://api.sanity.io\",\n  apiVersion: \"1\",\n  useProjectHostname: true\n};\nconst LOCALHOSTS = [\"localhost\", \"127.0.0.1\", \"0.0.0.0\"];\nconst isLocal = host => LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n  if (apiVersion === \"1\" || apiVersion === \"X\") {\n    return;\n  }\n  const apiDate = new Date(apiVersion);\n  const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n  if (!apiVersionValid) {\n    throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n  }\n};\nconst initConfig = (config, prevConfig) => {\n  const specifiedConfig = Object.assign({}, prevConfig, config);\n  if (!specifiedConfig.apiVersion) {\n    printNoApiVersionSpecifiedWarning();\n  }\n  const newConfig = Object.assign({}, defaultConfig, specifiedConfig);\n  const projectBased = newConfig.useProjectHostname;\n  if (typeof Promise === \"undefined\") {\n    const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n  if (projectBased && !newConfig.projectId) {\n    throw new Error(\"Configuration must contain `projectId`\");\n  }\n  const isBrowser = typeof window !== \"undefined\" && window.location && window.location.hostname;\n  const isLocalhost = isBrowser && isLocal(window.location.hostname);\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === \"undefined\") {\n    printCdnWarning();\n  }\n  if (projectBased) {\n    projectId(newConfig.projectId);\n  }\n  if (newConfig.dataset) {\n    dataset(newConfig.dataset);\n  }\n  if (\"requestTagPrefix\" in newConfig) {\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n  }\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  validateApiVersion(newConfig.apiVersion);\n  const hostParts = newConfig.apiHost.split(\"://\", 2);\n  const protocol = hostParts[0];\n  const host = hostParts[1];\n  const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n  return newConfig;\n};\nvar defaults = (obj, defaults) => Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop) => {\n  target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n  return target;\n}, {});\nvar pick = (obj, props) => props.reduce((selection, prop) => {\n  if (typeof obj[prop] === \"undefined\") {\n    return selection;\n  }\n  selection[prop] = obj[prop];\n  return selection;\n}, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst EventSource = polyfilledEventSource;\nconst possibleOptions = [\"includePreviousRevision\", \"includeResult\", \"visibility\", \"effectFormat\", \"tag\"];\nconst defaultOptions = {\n  includeResult: true\n};\nfunction _listen(query, params) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    url,\n    token,\n    withCredentials,\n    requestTagPrefix\n  } = this.config();\n  const tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join(\".\") : opts.tag;\n  const options = {\n    ...defaults(opts, defaultOptions),\n    tag\n  };\n  const listenOpts = pick(options, possibleOptions);\n  const qs = encodeQueryString({\n    query,\n    params,\n    options: {\n      tag,\n      ...listenOpts\n    }\n  });\n  const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(observer => observer.error(new Error(\"Query too large for listener\")));\n  }\n  const listenFor = options.events ? options.events : [\"mutation\"];\n  const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n  const esOptions = {};\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n  return new Observable(observer => {\n    let es = getEventSource();\n    let reconnectTimer;\n    let stopped = false;\n    function onError() {\n      if (stopped) {\n        return;\n      }\n      emitReconnect();\n      if (stopped) {\n        return;\n      }\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n    function onMessage(evt) {\n      const event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n    function onDisconnect() {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n    function unsubscribe() {\n      es.removeEventListener(\"error\", onError, false);\n      es.removeEventListener(\"channelError\", onChannelError, false);\n      es.removeEventListener(\"disconnect\", onDisconnect, false);\n      listenFor.forEach(type => es.removeEventListener(type, onMessage, false));\n      es.close();\n    }\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: \"reconnect\"\n        });\n      }\n    }\n    function getEventSource() {\n      const evs = new EventSource(uri, esOptions);\n      evs.addEventListener(\"error\", onError, false);\n      evs.addEventListener(\"channelError\", onChannelError, false);\n      evs.addEventListener(\"disconnect\", onDisconnect, false);\n      listenFor.forEach(type => evs.addEventListener(type, onMessage, false));\n      return evs;\n    }\n    function open() {\n      es = getEventSource();\n    }\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n    return stop;\n  });\n}\nfunction parseEvent(event) {\n  try {\n    const data = event.data && JSON.parse(event.data) || {};\n    return Object.assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n  const evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || \"Unknown listener error\";\n  }\n  if (err.error.description) {\n    return err.error.description;\n  }\n  return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter) => {\n  __accessCheck$3(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter) => {\n  __accessCheck$3(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client$2, void 0);\n    __privateAdd$3(this, _httpRequest$3, void 0);\n    __privateSet$3(this, _client$2, client);\n    __privateSet$3(this, _httpRequest$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n      uri: \"/datasets\"\n    });\n  }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client2$2, void 0);\n    __privateAdd$3(this, _httpRequest2$3, void 0);\n    __privateSet$3(this, _client2$2, client);\n    __privateSet$3(this, _httpRequest2$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name, options) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name, options) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return lastValueFrom(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n      uri: \"/datasets\"\n    }));\n  }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n  dataset(name);\n  return _request(client, httpRequest, {\n    method,\n    uri: \"/datasets/\".concat(name),\n    body: options\n  });\n}\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client$1, void 0);\n    __privateAdd$2(this, _httpRequest$2, void 0);\n    __privateSet$2(this, _client$1, client);\n    __privateSet$2(this, _httpRequest$2, httpRequest);\n  }\n  /**\n   * Fetch a list of projects the authenticated user has access to\n   */\n  list() {\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n      uri: \"/projects\"\n    });\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId) {\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n      uri: \"/projects/\".concat(projectId)\n    });\n  }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client2$1, void 0);\n    __privateAdd$2(this, _httpRequest2$2, void 0);\n    __privateSet$2(this, _client2$1, client);\n    __privateSet$2(this, _httpRequest2$2, httpRequest);\n  }\n  /**\n   * Fetch a list of projects the authenticated user has access to\n   */\n  list() {\n    return lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n      uri: \"/projects\"\n    }));\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId) {\n    return lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n      uri: \"/projects/\".concat(projectId)\n    }));\n  }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client, void 0);\n    __privateAdd$1(this, _httpRequest$1, void 0);\n    __privateSet$1(this, _client, client);\n    __privateSet$1(this, _httpRequest$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n      uri: \"/users/\".concat(id)\n    });\n  }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client2, void 0);\n    __privateAdd$1(this, _httpRequest2$1, void 0);\n    __privateSet$1(this, _client2, client);\n    __privateSet$1(this, _httpRequest2$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return lastValueFrom(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n      uri: \"/users/\".concat(id)\n    }));\n  }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class {\n  constructor(httpRequest) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n    /**\n     * Private properties\n     */\n    __privateAdd(this, _clientConfig, void 0);\n    __privateAdd(this, _httpRequest, void 0);\n    /**\n     * Instance properties\n     */\n    this.listen = _listen;\n    this.config(config);\n    __privateSet(this, _httpRequest, httpRequest);\n    this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n    this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n    this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n    this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0) {\n      return {\n        ...__privateGet(this, _clientConfig)\n      };\n    }\n    if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n      throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n    }\n    __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n    return this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n      ...this.config(),\n      ...newConfig\n    });\n  }\n  fetch(query, params) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _fetch(this, __privateGet(this, _httpRequest), query, params, options);\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n  }\n  create(document, options) {\n    return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n  }\n  createIfNotExists(document, options) {\n    return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n  }\n  createOrReplace(document, options) {\n    return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n  }\n  delete(selection, options) {\n    return _delete(this, __privateGet(this, _httpRequest), selection, options);\n  }\n  mutate(operations, options) {\n    return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   */\n  patch(documentId, operations) {\n    return new ObservablePatch(documentId, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new ObservableTransaction(operations, this);\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request against the Sanity API\n   *\n   * @deprecated Use your own request library!\n   * @param options - Request options\n   */\n  request(options) {\n    return _request(this, __privateGet(this, _httpRequest), options);\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\nlet ObservableSanityClient = _ObservableSanityClient;\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nconst _SanityClient = class {\n  constructor(httpRequest) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n    /**\n     * Private properties\n     */\n    __privateAdd(this, _clientConfig2, void 0);\n    __privateAdd(this, _httpRequest2, void 0);\n    /**\n     * Instance properties\n     */\n    this.listen = _listen;\n    this.config(config);\n    __privateSet(this, _httpRequest2, httpRequest);\n    this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n    this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n    this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n    this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n    this.observable = new ObservableSanityClient(httpRequest, config);\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0) {\n      return {\n        ...__privateGet(this, _clientConfig2)\n      };\n    }\n    if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n      throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n    }\n    if (this.observable) {\n      this.observable.config(newConfig);\n    }\n    __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n    return this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    return new _SanityClient(__privateGet(this, _httpRequest2), {\n      ...this.config(),\n      ...newConfig\n    });\n  }\n  fetch(query, params) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return lastValueFrom(_fetch(this, __privateGet(this, _httpRequest2), query, params, options));\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return lastValueFrom(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return lastValueFrom(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n  }\n  create(document, options) {\n    return lastValueFrom(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n  }\n  createIfNotExists(document, options) {\n    return lastValueFrom(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n  }\n  createOrReplace(document, options) {\n    return lastValueFrom(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n  }\n  delete(selection, options) {\n    return lastValueFrom(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n  }\n  mutate(operations, options) {\n    return lastValueFrom(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID(s)to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   */\n  patch(documentId, operations) {\n    return new Patch(documentId, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new Transaction(operations, this);\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request against the Sanity API\n   *\n   * @deprecated Use your own request library!\n   * @param options - Request options\n   */\n  request(options) {\n    return lastValueFrom(_request(this, __privateGet(this, _httpRequest2), options));\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request a `/data` sub-endpoint\n   *\n   * @deprecated Use your own request library!\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   */\n  dataRequest(endpoint, body, options) {\n    return lastValueFrom(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\nlet SanityClient = _SanityClient;\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nfunction migrationNotice() {\n  throw new TypeError(\"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead\");\n}\nconst httpRequest = defineHttpRequest(middleware);\nconst requester = httpRequest.defaultRequester;\nconst createClient = config => new SanityClient(httpRequest, config);\nexport { BasePatch, BaseTransaction, ClientError, ObservablePatch, ObservableSanityClient, ObservableTransaction, Patch, SanityClient, ServerError, Transaction, createClient, migrationNotice as default, requester };\n//# sourceMappingURL=index.js.map\n","// Prevent webpack from bundling in webpack context,\n// use regular node require for unbundled context\n\n/* eslint-disable camelcase, no-undef */\ndeclare const __webpack_require__: boolean\ndeclare const __non_webpack_require__: typeof require\n\nconst requireFunc: typeof require =\n  typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require\n/* eslint-enable camelcase, no-undef */\n\nexport function dynamicRequire<T = any>(request: string): T {\n  const mod = requireFunc(request)\n  return mod.__esModule && mod.default ? mod.default : mod\n}\n\ndynamicRequire.resolve = requireFunc.resolve\n","/* eslint-disable no-sync */\n\n/**\n * Reads the Sanity CLI config from one of the following files (in preferred order):\n *   - sanity.cli.js\n *   - sanity.cli.ts\n *\n * Note: There are two ways of using this:\n * a) `getCliConfig(cwd)`\n * b) `getCliConfig(cwd, {forked: true})`\n *\n * Approach a is generally a bit faster as it avoids the forking startup time, while\n * approach b could be considered \"safer\" since any side-effects of running the config\n * file will not bleed into the current CLI process directly.\n */\nimport path from 'path'\nimport fs from 'fs'\nimport {Worker} from 'worker_threads'\nimport type {CliConfig, SanityJson} from '../types'\nimport {dynamicRequire} from './dynamicRequire'\nimport {getCliWorkerPath} from './cliWorker'\n\nexport type CliMajorVersion = 2 | 3\n\nexport type CliConfigResult =\n  | {config: SanityJson; path: string; version: 2}\n  | {config: CliConfig; path: string; version: 3}\n  | {config: null; path: string; version: CliMajorVersion}\n\nexport async function getCliConfig(\n  cwd: string,\n  {forked}: {forked?: boolean} = {}\n): Promise<CliConfigResult | null> {\n  if (forked) {\n    try {\n      return await getCliConfigForked(cwd)\n    } catch (err) {\n      // Intentional noop - try unforked variant\n    }\n  }\n\n  const {unregister} = __DEV__\n    ? {unregister: () => undefined}\n    : require('esbuild-register/dist/node').register()\n\n  try {\n    const v3Config = getSanityCliConfig(cwd)\n    if (v3Config) {\n      return v3Config\n    }\n\n    return getSanityJsonConfig(cwd)\n  } catch (err) {\n    throw err\n  } finally {\n    unregister()\n  }\n}\n\nexport function getCliConfigSync(cwd: string): CliConfigResult | null {\n  const v3Config = getSanityCliConfig(cwd)\n  return v3Config ? v3Config : getSanityJsonConfig(cwd)\n}\n\nasync function getCliConfigForked(cwd: string): Promise<CliConfigResult | null> {\n  const workerPath = await getCliWorkerPath('getCliConfig')\n  return new Promise((resolve, reject) => {\n    const worker = new Worker(workerPath, {\n      workerData: cwd,\n      // eslint-disable-next-line no-process-env\n      env: process.env,\n    })\n    worker.on('message', (message) => {\n      if (message.type === 'config') {\n        resolve(message.config)\n      } else {\n        const error = new Error(message.error)\n        ;(error as any).type = message.errorType\n        reject(new Error(message.error))\n      }\n    })\n    worker.on('error', reject)\n    worker.on('exit', (code) => {\n      if (code !== 0) {\n        reject(new Error(`Worker stopped with exit code ${code}`))\n      }\n    })\n  })\n}\n\nfunction getSanityJsonConfig(cwd: string): CliConfigResult | null {\n  const configPath = path.join(cwd, 'sanity.json')\n\n  if (!fs.existsSync(configPath)) {\n    return null\n  }\n\n  return {\n    config: loadJsonConfig(configPath),\n    path: configPath,\n    version: 2,\n  }\n}\n\nfunction getSanityCliConfig(cwd: string): CliConfigResult | null {\n  const jsConfigPath = path.join(cwd, 'sanity.cli.js')\n  const tsConfigPath = path.join(cwd, 'sanity.cli.ts')\n\n  const [js, ts] = [fs.existsSync(jsConfigPath), fs.existsSync(tsConfigPath)]\n\n  if (!js && !ts) {\n    return null\n  }\n\n  if (!js && ts) {\n    return {\n      config: importConfig(tsConfigPath),\n      path: tsConfigPath,\n      version: 3,\n    }\n  }\n\n  if (js && ts) {\n    warn('Found both `sanity.cli.js` and `sanity.cli.ts` - using sanity.cli.js')\n  }\n\n  return {\n    config: importConfig(jsConfigPath),\n    path: jsConfigPath,\n    version: 3,\n  }\n}\n\nfunction loadJsonConfig(filePath: string): SanityJson | null {\n  try {\n    const content = fs.readFileSync(filePath, 'utf8')\n    return JSON.parse(content)\n  } catch (err) {\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction importConfig(filePath: string): CliConfig | null {\n  try {\n    const config = dynamicRequire<CliConfig | {default: CliConfig} | null>(filePath)\n    if (config === null || typeof config !== 'object') {\n      throw new Error('Module export is not a configuration object')\n    }\n\n    return 'default' in config ? config.default : config\n  } catch (err) {\n    // If attempting to import `defineCliConfig` or similar from `sanity/cli`,\n    // accept the fact that it might not be installed. Instead, let the CLI\n    // give a warning about the `sanity` module not being installed\n    if (err.code === 'MODULE_NOT_FOUND' && err.message.includes('sanity/cli')) {\n      return null\n    }\n\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction warn(warning: string) {\n  if (typeof process.send === 'function') {\n    process.send({type: 'warning', warning})\n  } else {\n    console.warn(warning)\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","import debugIt from 'debug'\n\nexport const debug = debugIt('sanity:cli')\n","/* eslint-disable no-sync */\nimport path from 'path'\nimport fs from 'fs'\nimport {debug} from '../debug'\n\n/**\n * Resolve project root directory, falling back to cwd if it cannot be found\n */\nexport function resolveRootDir(cwd: string): string {\n  try {\n    return resolveProjectRoot(cwd) || cwd\n  } catch (err) {\n    throw new Error(`Error occurred trying to resolve project root:\\n${err.message}`)\n  }\n}\n\nfunction hasStudioConfig(basePath: string): boolean {\n  const buildConfigs = [\n    fileExists(path.join(basePath, 'studio.config.js')),\n    fileExists(path.join(basePath, 'studio.config.ts')),\n    isSanityV2StudioRoot(basePath),\n  ]\n\n  return buildConfigs.some(Boolean)\n}\n\nfunction resolveProjectRoot(basePath: string, iterations = 0): string | false {\n  if (hasStudioConfig(basePath)) {\n    return basePath\n  }\n\n  const parentDir = path.resolve(basePath, '..')\n  if (parentDir === basePath || iterations > 30) {\n    // Reached root (or max depth), give up\n    return false\n  }\n\n  return resolveProjectRoot(parentDir, iterations + 1)\n}\n\nfunction isSanityV2StudioRoot(basePath: string): boolean {\n  try {\n    const content = fs.readFileSync(path.join(basePath, 'sanity.json'), 'utf8')\n    const sanityJson = JSON.parse(content)\n    const isRoot = Boolean(sanityJson?.root)\n    if (isRoot) {\n      debug('Found Sanity v2 studio root at %s', basePath)\n    }\n    return isRoot\n  } catch (err) {\n    return false\n  }\n}\n\nfunction fileExists(filePath: string): boolean {\n  return fs.existsSync(filePath)\n}\n","import {createClient, SanityClient} from '@sanity/client'\nimport {getCliConfigSync} from './util/getCliConfig'\nimport {resolveRootDir} from './util/resolveRootDir'\n\nexport interface CliClientOptions {\n  cwd?: string\n\n  projectId?: string\n  dataset?: string\n  useCdn?: boolean\n  token?: string\n  apiVersion?: string\n}\n\nexport function getCliClient(options: CliClientOptions = {}): SanityClient {\n  if (typeof process !== 'object') {\n    throw new Error('getCliClient() should only be called from node.js scripts')\n  }\n\n  const {\n    // eslint-disable-next-line no-process-env\n    cwd = process.env.SANITY_BASE_PATH || process.cwd(),\n    useCdn = false,\n    apiVersion = '2022-06-06',\n    projectId,\n    dataset,\n    token = getCliClient.__internal__getToken(),\n  } = options\n\n  if (projectId && dataset) {\n    return createClient({projectId, dataset, apiVersion, useCdn, token})\n  }\n\n  const rootDir = resolveRootDir(cwd)\n  const {config} = getCliConfigSync(rootDir) || {}\n  if (!config) {\n    throw new Error('Unable to resolve CLI configuration')\n  }\n\n  const apiConfig = config?.api || {}\n  if (!apiConfig.projectId || !apiConfig.dataset) {\n    throw new Error('Unable to resolve project ID/dataset from CLI configuration')\n  }\n\n  return createClient({\n    projectId: apiConfig.projectId,\n    dataset: apiConfig.dataset,\n    apiVersion,\n    useCdn,\n    token,\n  })\n}\n\n/* eslint-disable camelcase */\n/**\n * @internal\n * @deprecated This is only for INTERNAL use, and should not be relied upon outside of official Sanity modules\n * @returns A token to use when constructing a client without a `token` explicitly defined, or undefined\n */\ngetCliClient.__internal__getToken = (): string | undefined => undefined\n/* eslint-enable camelcase */\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n","'use strict'\n\nfunction _interpolate (envValue, environment, config) {\n  const matches = envValue.match(/(.?\\${*[\\w]*(?::-[\\w/]*)?}*)/g) || []\n\n  return matches.reduce(function (newEnv, match, index) {\n    const parts = /(.?)\\${*([\\w]*(?::-[\\w/]*)?)?}*/g.exec(match)\n    if (!parts || parts.length === 0) {\n      return newEnv\n    }\n\n    const prefix = parts[1]\n\n    let value, replacePart\n\n    if (prefix === '\\\\') {\n      replacePart = parts[0]\n      value = replacePart.replace('\\\\$', '$')\n    } else {\n      const keyParts = parts[2].split(':-')\n      const key = keyParts[0]\n      replacePart = parts[0].substring(prefix.length)\n      // process.env value 'wins' over .env file's value\n      value = Object.prototype.hasOwnProperty.call(environment, key)\n        ? environment[key]\n        : (config.parsed[key] || keyParts[1] || '')\n\n      // If the value is found, remove nested expansions.\n      if (keyParts.length > 1 && value) {\n        const replaceNested = matches[index + 1]\n        matches[index + 1] = ''\n\n        newEnv = newEnv.replace(replaceNested, '')\n      }\n      // Resolve recursive interpolations\n      value = _interpolate(value, environment, config)\n    }\n\n    return newEnv.replace(replacePart, value)\n  }, envValue)\n}\n\nfunction expand (config) {\n  // if ignoring process.env, use a blank object\n  const environment = config.ignoreProcessEnv ? {} : process.env\n\n  for (const configKey in config.parsed) {\n    const value = Object.prototype.hasOwnProperty.call(environment, configKey) ? environment[configKey] : config.parsed[configKey]\n\n    config.parsed[configKey] = _interpolate(value, environment, config)\n  }\n\n  for (const processKey in config.parsed) {\n    environment[processKey] = config.parsed[processKey]\n  }\n\n  return config\n}\n\nmodule.exports.expand = expand\n","/**\n * This is an \"inlined\" version of Vite's `loadEnv` function,\n * simplified somewhat to only support our use case.\n *\n * Ideally we'd just use `loadEnv` from Vite, but importing it\n * causes bundling issues due to node APIs and downstream dependencies.\n *\n * Vite is MIT licensed, copyright (c) Yuxi (Evan) You and Vite contributors.\n */\n\n/* eslint-disable no-process-env */\nimport fs from 'node:fs'\nimport path from 'node:path'\nimport {parse} from 'dotenv'\nimport {expand} from 'dotenv-expand'\n\nexport function loadEnv(\n  mode: string,\n  envDir: string,\n  prefixes: string[] = ['VITE_']\n): Record<string, string> {\n  if (mode === 'local') {\n    throw new Error(\n      `\"local\" cannot be used as a mode name because it conflicts with ` +\n        `the .local postfix for .env files.`\n    )\n  }\n\n  const env: Record<string, string> = {}\n  const envFiles = [\n    /** default file */ `.env`,\n    /** local file */ `.env.local`,\n    /** mode file */ `.env.${mode}`,\n    /** mode local file */ `.env.${mode}.local`,\n  ]\n\n  const parsed = Object.fromEntries(\n    envFiles.flatMap((file) => {\n      const envPath = lookupFile(envDir, [file], {\n        rootDir: envDir,\n      })\n      if (!envPath) return []\n      return Object.entries(parse(fs.readFileSync(envPath)))\n    })\n  )\n\n  // test NODE_ENV override before expand as otherwise process.env.NODE_ENV would override this\n  if (parsed.NODE_ENV && process.env.VITE_USER_NODE_ENV === undefined) {\n    process.env.VITE_USER_NODE_ENV = parsed.NODE_ENV\n  }\n  // support BROWSER and BROWSER_ARGS env variables\n  if (parsed.BROWSER && process.env.BROWSER === undefined) {\n    process.env.BROWSER = parsed.BROWSER\n  }\n  if (parsed.BROWSER_ARGS && process.env.BROWSER_ARGS === undefined) {\n    process.env.BROWSER_ARGS = parsed.BROWSER_ARGS\n  }\n\n  try {\n    // let environment variables use each other\n    expand({parsed})\n  } catch (e) {\n    // custom error handling until https://github.com/motdotla/dotenv-expand/issues/65 is fixed upstream\n    // check for message \"TypeError: Cannot read properties of undefined (reading 'split')\"\n    if (e.message.includes('split')) {\n      throw new Error('dotenv-expand failed to expand env vars. Maybe you need to escape `$`?')\n    }\n    throw e\n  }\n\n  // only keys that start with prefix are exposed to client\n  for (const [key, value] of Object.entries(parsed)) {\n    if (prefixes.some((prefix) => key.startsWith(prefix))) {\n      env[key] = value\n    }\n  }\n\n  // check if there are actual env variables starting with VITE_*\n  // these are typically provided inline and should be prioritized\n  for (const key in process.env) {\n    if (prefixes.some((prefix) => key.startsWith(prefix))) {\n      env[key] = process.env[key] as string\n    }\n  }\n\n  return env\n}\n\nfunction lookupFile(\n  dir: string,\n  formats: string[],\n  options?: {\n    rootDir?: string\n  }\n): string | undefined {\n  for (const format of formats) {\n    const fullPath = path.join(dir, format)\n    // eslint-disable-next-line no-sync\n    if (fs.existsSync(fullPath) && fs.statSync(fullPath).isFile()) {\n      return fullPath\n    }\n  }\n  const parentDir = path.dirname(dir)\n  if (parentDir !== dir && (!options?.rootDir || parentDir.startsWith(options?.rootDir))) {\n    return lookupFile(parentDir, formats, options)\n  }\n\n  return undefined\n}\n"],"names":["defineCliConfig","config","createCliConfig","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__values","o","s","Symbol","iterator","m","i","length","next","value","done","__read","n","r","ar","e","push","error","__spreadArray","to","from","pack","arguments","l","slice","concat","isFunction","createErrorClass","createImpl","_super","instance","Error","stack","ctorFunc","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","map","err","toString","join","name","arrRemove","arr","item","index","indexOf","splice","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","parent_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","add","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","empty","isSubscription","onUnhandledError","onStoppedNotification","Promise","undefined","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","setTimeout","handler","timeout","args","_i","apply","clearTimeout","handle","delegate","reportUnhandledError","noop","errorContext","cb","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","_next","_error","_complete","_bind","Function","bind","fn","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","defaultErrorHandler","observable","identity","x","pipeFromArray","fns","piped","input","reduce","prev","Observable","subscribe","_subscribe","lift","operator","source","subscriber","isSubscriber","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","resolve","reject","Symbol_observable","pipe","operations","toPromise","isObserver","hasLift","operate","init","liftedSource","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","EmptyError","EmptyErrorImpl","lastValueFrom","hasConfig","_hasValue","_value","defaultValue","project","filter","predicate","parse","require$$0","events","require$$1","https","require$$2","http","require$$3","util","require$$4","httpsOptions","bom","colon","space","lineFeed","carriageReturn","maxBufferAheadAllocation","reUnsafeHeader","hasBom","buf","every","charCode","EventSource","url","eventSourceInitDict","readyState","CONNECTING","headers","hasNewOrigin","defineProperty","get","self","reconnectInterval","connectionInProgress","onConnectionClosed","CLOSED","_emit","Event","reconnectUrl","connect","req","lastEventId","discardTrailingNewline","data","eventName","options","isSecure","protocol","reqHeaders","removeUnsafeHeaders","header","rejectUnauthorized","createConnection","useProxy","proxy","path","Host","host","hostname","port","optName","option","withCredentials","request","res","statusCode","status","statusMessage","location","prevOrigin","URL","origin","nextOrigin","process","nextTick","close","OPEN","on","removeAllListeners","newBuffer","startingPos","startingFieldLength","newBufferSize","bytesUsed","chunk","Buffer","alloc","copy","pos","lineLength","fieldLength","c","parseEventStreamLine","setNoDelay","end","listeners","emit","_close","abort","xhr","type","MessageEvent","noValue","step","field","valueLength","retry","parseInt","Number","isNaN","eventsource","inherits","EventEmitter","method","listener","_listener","set","addEventListener","enumerable","dispatchEvent","event","detail","removeEventListener","removeListener","optionalProperties","writable","f","eventInitDict","safe","key","test","module","exports","version","middleware","debug","verbose","namespace","maxRetries","ClientError","props","extractErrorProps","assign","ServerError","body","response","responseBody","stringifyBody","details","description","httpErrorMessage","contentType","toLowerCase","isJson","JSON","stringify","httpError","onResponse","printWarnings","warn","warnings","Boolean","msg","console","defineHttpRequest","envMiddleware","getIt","jsonRequest","jsonResponse","progress","implementation","httpRequest","requester","maxRedirects","defaultRequester","projectHeader","getRequestOptions","overrides","token","Authorization","useGlobalApi","useProjectHostname","projectId","json","getSelection","sel","id","query","params","selectionOpts","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","dataset","validateAssetType","validateObject","op","val","validateDocumentId","requireDocumentId","doc","_id","validateInsert","at","selector","items","signature","valid","loc","hasDataset","requestTag","tag","encodeQueryString","_ref","searchParams","URLSearchParams","opts","entries","__accessCheck$6","obj","member","has","__privateGet$6","getter","__privateAdd$6","WeakSet","__privateSet$6","setter","_client$5","_client2$5","BasePatch","selection","attrs","_assign","setIfMissing","diffMatchPatch","unset","inc","dec","insert","append","prepend","start","deleteCount","delAll","startIndex","delCount","Math","max","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","reset","merge","_set","_ObservablePatch","client","clone","commit","returnFirst","returnDocuments","mutate","patch","ObservablePatch","WeakMap","_Patch","Patch","__accessCheck$5","__privateGet$5","__privateAdd$5","__privateSet$5","_client$4","_client2$4","defaultMutateOptions","BaseTransaction","transactionId","trxId","_add","createIfNotExists","createOrReplace","delete","documentId","mut","_Transaction","patchOrDocumentId","patchOps","isBuilder","isPatch","Transaction","_ObservableTransaction","ObservableTransaction","excludeFalsey","param","defValue","getMutationQuery","dryRun","returnIds","visibility","autoGenerateArrayKeys","skipCrossDatasetReferenceValidation","isResponse","getBody","indexBy","docs","attr","indexed","getQuerySizeLimit","_fetch","mapResponse","filterResponse","result","_dataRequest","_getDocument","uri","_getDataUrl","_requestObservable","documents","_getDocuments","ids","_createIfNotExists","_create","_createOrReplace","_delete","mutations","_mutate","muts","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","reqOptions","canUseCdn","signal","results","document","mutation","useCdn","requestTagPrefix","_getUrl","_withAbortSignal","_request","operation","catalog","baseUri","replace","cdnUrl","base","observer","_createAbortError","aborted","subscription","isDomExceptionSupported","globalThis","DOMException","reason","__accessCheck$4","__privateGet$4","__privateAdd$4","__privateSet$4","_client$3","_httpRequest$4","_client2$3","_httpRequest2$4","ObservableAssetsClient","upload","assetType","_upload","AssetsClient","meta","extract","assetEndpoint","optionsFromFile","label","title","creditLine","filename","sourceId","sourceName","sourceUrl","file","window","File","preserveFilename","BASE_URL","generateHelpUrl","slug","once","didCall","returnValue","createWarningPrinter","_len","_key","printCdnWarning","printBrowserTokenWarning","printNoApiVersionSpecifiedWarning","defaultCdnHost","defaultConfig","apiHost","apiVersion","LOCALHOSTS","isLocal","validateApiVersion","validateApiVersion2","apiDate","Date","apiVersionValid","getTime","initConfig","prevConfig","specifiedConfig","newConfig","projectBased","helpUrl","isBrowser","isLocalhost","ignoreBrowserTokenWarning","isDefaultApi","hostParts","split","cdnHost","defaults","keys","target","prop","pick","MAX_URL_LENGTH","polyfilledEventSource","possibleOptions","defaultOptions","includeResult","_listen","listenOpts","qs","listenFor","shouldEmitReconnect","esOptions","es","getEventSource","reconnectTimer","stopped","emitReconnect","open","onChannelError","cooerceError","onMessage","evt","parseEvent","onDisconnect","evs","stop","extractErrorMessage","__accessCheck$3","__privateGet$3","__privateAdd$3","__privateSet$3","_client$2","_httpRequest$3","_client2$2","_httpRequest2$3","ObservableDatasetsClient","_modify","edit","list","DatasetsClient","__accessCheck$2","__privateGet$2","__privateAdd$2","__privateSet$2","_client$1","_httpRequest$2","_client2$1","_httpRequest2$2","ObservableProjectsClient","getById","ProjectsClient","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","_client","_httpRequest$1","_client2","_httpRequest2$1","ObservableUsersClient","UsersClient","__accessCheck","__privateGet","__privateAdd","__privateSet","_clientConfig","_httpRequest","_clientConfig2","_httpRequest2","_ObservableSanityClient","listen","assets","datasets","projects","users","allowReconfigure","withConfig","fetch","getDocument","getDocuments","transaction","getUrl","getDataUrl","ObservableSanityClient","_SanityClient","dataRequest","SanityClient","createClient","requireFunc","__webpack_require__","__non_webpack_require__","require","dynamicRequire","mod","__esModule","default","getCliConfigSync","cwd","v3Config","getSanityCliConfig","getSanityJsonConfig","configPath","fs","existsSync","loadJsonConfig","jsConfigPath","tsConfigPath","js","ts","importConfig","filePath","content","readFileSync","code","warning","send","h","w","y","ms","isFinite","long","fmtLong","fmtShort","str","match","exec","parseFloat","msAbs","abs","round","plural","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","humanize","instances","names","skips","formatters","selectColor","hash","charCodeAt","colors","prevTime","curr","diff","unshift","format","formatter","formatArgs","logFn","log","useColors","color","destroy","extend","delimiter","namespaces","save","len","RegExp","substr","load","common","_typeof","storage","localstorage","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","lastC","_console","setItem","removeItem","getItem","DEBUG","localStorage","j","v","hasFlag","flag","argv","prefix","startsWith","position","terminatorPosition","os","tty","forceColor","FORCE_COLOR","min","translateLevel","level","hasBasic","has256","has16m","supportsColor","haveStream","streamIsTTY","TERM","platform","osRelease","release","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","getSupportLevel","stream","isTTY","supportsColor_1","stdout","isatty","stderr","inspectOpts","substring","_","k","toUpperCase","fd","colorCode","getDate","hideDate","toISOString","write","inspect","trim","O","browser","debugIt","resolveRootDir","resolveProjectRoot","hasStudioConfig","basePath","buildConfigs","fileExists","isSanityV2StudioRoot","iterations","parentDir","sanityJson","isRoot","root","getCliClient","SANITY_BASE_PATH","__internal__getToken","rootDir","apiConfig","api","packageJson","LINE","src","lines","maybeQuote","_log","_resolveHome","envPath","homedir","dotenvPath","encoding","override","parsed","DotenvModule","main","parse_1","mainModule","_interpolate","envValue","environment","matches","newEnv","parts","replacePart","keyParts","replaceNested","expand","ignoreProcessEnv","configKey","processKey","expand_1","loadEnv","mode","envDir","prefixes","envFiles","fromEntries","flatMap","lookupFile","NODE_ENV","VITE_USER_NODE_ENV","BROWSER","BROWSER_ARGS","dir","formats","fullPath","statSync","isFile","dirname"],"mappings":"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"}